{"ast":null,"code":"import _extends from '@babel/runtime/helpers/extends';\nimport _objectWithoutProperties from '@babel/runtime/helpers/objectWithoutProperties';\nimport React, { forwardRef, useState, useRef, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport ReactForm__default, { preset as preset$1, useSubmit, useReset } from '@kne/react-form';\nexport * from '@kne/react-form';\nimport { widget, hooks, hoc } from '@kne/react-form-helper';\nexport { hooks, utils } from '@kne/react-form-helper';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport { Upload as Upload$1, message, Modal, Row, Col, Slider, Cascader as Cascader$2, Checkbox as Checkbox$2, DatePicker as DatePicker$1, Input as Input$1, InputNumber as InputNumber$1, Radio, Select as Select$1, Switch as Switch$2, TimePicker as TimePicker$1, TreeSelect as TreeSelect$1, Button } from 'antd';\nimport merge from 'lodash/merge';\nimport get from 'lodash/get';\nimport { LoadingOutlined, PlusOutlined, UploadOutlined } from '@ant-design/icons';\nimport AvatarEditor from 'react-avatar-editor';\nimport { withFetch } from '@kne/react-fetch';\nimport uniqueId from 'lodash/uniqueId';\nimport isEqual from 'lodash/isEqual';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport Space from 'antd/es/space';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".react-form, .react-form--large, .react-form--small, .react-form--inner, .react-form--inner--large, .react-form--inner--small, .react-form--inline, .react-form--inline--large, .react-form--inline--small {\\n  text-align: left;\\n  font-size: 12px; }\\n  .react-form .ant-select, .react-form--large .ant-select, .react-form--small .ant-select, .react-form--inner .ant-select, .react-form--inner--large .ant-select, .react-form--inner--small .ant-select, .react-form--inline .ant-select, .react-form--inline--large .ant-select, .react-form--inline--small .ant-select {\\n    width: 100%; }\\n  .react-form--large .react-form__field-label {\\n    font-size: 14px;\\n    margin-right: 20px;\\n    line-height: 34px; }\\n  .react-form--small .react-form__field-label {\\n    margin-right: 12px;\\n    line-height: 24px; }\\n  .react-form--inner .react-form__field, .react-form--inner--large .react-form__field, .react-form--inner--small .react-form__field {\\n    margin-bottom: 22px; }\\n  .react-form--inner .react-form__field-main, .react-form--inner--large .react-form__field-main, .react-form--inner--small .react-form__field-main {\\n    flex-direction: column; }\\n  .react-form--inner .react-form__field-input, .react-form--inner--large .react-form__field-input, .react-form--inner--small .react-form__field-input {\\n    align-self: auto; }\\n  .react-form--inner .react-form__field-label, .react-form--inner--large .react-form__field-label, .react-form--inner--small .react-form__field-label {\\n    font-size: 14px;\\n    text-align: left;\\n    font-weight: bold;\\n    margin-left: 0;\\n    margin-bottom: 2px; }\\n  .react-form--inner--small .react-form__field-label {\\n    font-size: 12px;\\n    margin-bottom: 1px; }\\n  .react-form--inline, .react-form--inline--large, .react-form--inline--small {\\n    padding: 30px 30px 6px; }\\n    .react-form--inline .react-form__field, .react-form--inline--large .react-form__field, .react-form--inline--small .react-form__field {\\n      display: inline-block;\\n      margin-right: 40px; }\\n      .react-form--inline .react-form__field:last-child, .react-form--inline--large .react-form__field:last-child, .react-form--inline--small .react-form__field:last-child {\\n        margin-right: 0; }\\n    .react-form--inline .react-form__field-label, .react-form--inline--large .react-form__field-label, .react-form--inline--small .react-form__field-label {\\n      min-width: auto !important;\\n      padding-left: 0; }\\n      .react-form--inline .react-form__field-label.is-req:before, .react-form--inline--large .react-form__field-label.is-req:before, .react-form--inline--small .react-form__field-label.is-req:before {\\n        position: static; }\\n    .react-form--inline--large .react-form__field-label {\\n      font-size: 14px;\\n      line-height: 34px; }\\n    .react-form--inline--small .react-form__field-label {\\n      margin-right: 12px; }\\n  .react-form__field-main {\\n    display: flex; }\\n  .react-form__field-label {\\n    text-align: right;\\n    margin-right: 16px;\\n    line-height: 30px;\\n    margin-left: 10px;\\n    position: relative; }\\n    .react-form__field-label.is-req:before {\\n      position: absolute;\\n      color: #fc3333;\\n      font-weight: bold;\\n      content: '*';\\n      margin-right: 4px;\\n      transform: translateX(-10px); }\\n  .react-form__field-input {\\n    align-self: center;\\n    flex: 1;\\n    position: relative; }\\n  .react-form__field {\\n    margin-bottom: 24px;\\n    transition: border-color 300ms; }\\n    .react-form__field.is-req-error .react-form__field-component, .react-form__field.is-error .react-form__field-component {\\n      border-color: #fc3333; }\\n      .react-form__field.is-req-error .react-form__field-component:focus, .react-form__field.is-error .react-form__field-component:focus {\\n        box-shadow: 0 0 0 2px rgba(252, 51, 51, 0.2); }\\n      .react-form__field.is-req-error .react-form__field-component .ant-select-selection, .react-form__field.is-req-error .react-form__field-component .ant-input, .react-form__field.is-req-error .react-form__field-component .ant-radio-inner, .react-form__field.is-error .react-form__field-component .ant-select-selection, .react-form__field.is-error .react-form__field-component .ant-input, .react-form__field.is-error .react-form__field-component .ant-radio-inner {\\n        border-color: #fc3333; }\\n        .react-form__field.is-req-error .react-form__field-component .ant-select-selection:focus, .react-form__field.is-req-error .react-form__field-component .ant-input:focus, .react-form__field.is-req-error .react-form__field-component .ant-radio-inner:focus, .react-form__field.is-error .react-form__field-component .ant-select-selection:focus, .react-form__field.is-error .react-form__field-component .ant-input:focus, .react-form__field.is-error .react-form__field-component .ant-radio-inner:focus {\\n          box-shadow: 0 0 0 2px rgba(252, 51, 51, 0.2); }\\n      .react-form__field.is-req-error .react-form__field-component .ant-upload.ant-upload-select-picture-card, .react-form__field.is-error .react-form__field-component .ant-upload.ant-upload-select-picture-card {\\n        border-color: #fc3333; }\\n      .react-form__field.is-req-error .react-form__field-component.ant-input-affix-wrapper .ant-input, .react-form__field.is-error .react-form__field-component.ant-input-affix-wrapper .ant-input {\\n        box-shadow: none; }\\n      .react-form__field.is-req-error .react-form__field-component.ant-input-affix-wrapper-focused, .react-form__field.is-error .react-form__field-component.ant-input-affix-wrapper-focused {\\n        box-shadow: 0 0 0 2px rgba(252, 51, 51, 0.2); }\\n      .react-form__field.is-req-error .react-form__field-component.ant-select > .ant-select-selector, .react-form__field.is-error .react-form__field-component.ant-select > .ant-select-selector {\\n        border-color: #fc3333; }\\n      .react-form__field.is-req-error .react-form__field-component.ant-select.ant-select-focused > .ant-select-selector, .react-form__field.is-error .react-form__field-component.ant-select.ant-select-focused > .ant-select-selector {\\n        box-shadow: 0 0 0 2px rgba(252, 51, 51, 0.2); }\\n    .react-form__field-error {\\n      color: #fc3333;\\n      font-size: 12px;\\n      position: absolute;\\n      top: calc(100% + 1px);\\n      left: 0; }\\n\\n.react-form-modal .ant-modal-content > .ant-modal-body {\\n  padding: 0; }\\n\\n.react-form-modal .ant-modal-confirm-btns {\\n  display: none; }\\n\\n.react-form-modal.ant-modal-confirm .ant-modal-header, .react-form-modal.ant-modal-confirm .ant-modal-close {\\n  display: block; }\\n\\n.react-form-avatar .preview {\\n  width: 85px;\\n  height: 85px;\\n  overflow: hidden;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center; }\\n  .react-form-avatar .preview img {\\n    max-width: 100%;\\n    max-height: 100%; }\\n\";\nstyleInject(css_248z);\nvar ScrollToError = widget.ScrollToError,\n    EnterSubmit = widget.EnterSubmit,\n    FormStore = widget.FormStore,\n    MaxLabelProvider = widget.MaxLabelProvider,\n    SizeProvider = widget.SizeProvider;\nvar Form = forwardRef(function (_ref, ref) {\n  var className = _ref.className,\n      cache = _ref.cache,\n      enterSubmit = _ref.enterSubmit,\n      scrollToError = _ref.scrollToError,\n      scrollProps = _ref.scrollProps,\n      type = _ref.type,\n      size = _ref.size,\n      children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"className\", \"cache\", \"enterSubmit\", \"scrollToError\", \"scrollProps\", \"type\", \"size\", \"children\"]);\n\n  var computedClass = 'react-form';\n\n  if (type !== 'default') {\n    computedClass += \"--\".concat(type);\n  }\n\n  if (size !== 'middle') {\n    computedClass += \"--\".concat(size);\n  }\n\n  var maxLabel = /*#__PURE__*/React.createElement(MaxLabelProvider, null, children);\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: classnames(computedClass, className),\n    onSubmit: function onSubmit(e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }, /*#__PURE__*/React.createElement(SizeProvider, {\n    value: {\n      size: size\n    }\n  }, /*#__PURE__*/React.createElement(ReactForm__default, _extends({}, props, {\n    ref: ref\n  }), cache ? /*#__PURE__*/React.createElement(FormStore, {\n    cache: cache\n  }) : null, scrollToError ? /*#__PURE__*/React.createElement(ScrollToError, {\n    scrollProps: scrollProps\n  }) : null, enterSubmit ? /*#__PURE__*/React.createElement(EnterSubmit, null, maxLabel) : maxLabel)));\n});\nForm.defaultProps = {\n  type: 'default',\n  size: 'middle',\n  scrollToError: true,\n  enterSubmit: false,\n  scrollProps: {\n    block: 'center'\n  }\n};\nForm.propTypes = {\n  className: PropTypes.string,\n  type: PropTypes.oneOf(['inline', 'default', 'inner']),\n  size: PropTypes.oneOf(['small', 'middle', 'large']),\n  enterSubmit: PropTypes.bool,\n  scrollToError: PropTypes.bool,\n  scrollProps: PropTypes.shape({\n    block: PropTypes.oneOf(['start', 'center', 'end', 'nearest']),\n    behavior: PropTypes.oneOf(['auto', 'smooth']),\n    inline: PropTypes.oneOf(['start', 'center', 'end', 'nearest'])\n  })\n};\nvar globalParams = {\n  rules: {},\n  field: {\n    upload: {\n      action: '/open-api/upload_static_file/interview-manager',\n      transformResponse: function transformResponse(response) {\n        return {\n          code: response.code,\n          msg: response.msg,\n          results: get(response, 'results[0].targetPath')\n        };\n      }\n    },\n    avatar: {\n      transformResponse: function transformResponse(response) {\n        return {\n          code: response.code,\n          results: response.results,\n          msg: response.msg\n        };\n      },\n      action: '/upload'\n    }\n  }\n};\n\nvar preset = function preset(props) {\n  merge(globalParams, props);\n  preset$1(globalParams.rules);\n};\n\nvar useOnChange = hooks.useOnChange;\nvar avatarParams = globalParams.field.avatar;\n\nvar _Avatar = function _Avatar(_ref) {\n  var className = _ref.className,\n      imageUrl = _ref.value,\n      propsChange = _ref.onChange,\n      onBeforeUpload = _ref.beforeUpload,\n      transformResponse = _ref.transformResponse,\n      action = _ref.action,\n      imageType = _ref.imageType,\n      size = _ref.fileSize,\n      children = _ref.children,\n      onError = _ref.onError,\n      editor = _ref.editor;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(imageUrl),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showImageUrl = _useState4[0],\n      setImageUrl = _useState4[1];\n\n  var editorRef = useRef();\n  useEffect(function () {\n    setImageUrl(imageUrl);\n  }, [imageUrl]);\n  /* base64转blob */\n\n  var dataURLtoBlob = function dataURLtoBlob(dataurl) {\n    var arr = dataurl.split(','); // 注意base64的最后面中括号和引号是不转译的\n\n    var _arr = arr[1].substring(0, arr[1].length - 2);\n\n    var mime = arr[0].match(/:(.*?);/)[1],\n        bstr = atob(_arr),\n        n = bstr.length,\n        u8arr = new Uint8Array(n);\n\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n);\n    }\n\n    return new Blob([u8arr], {\n      type: mime\n    });\n  };\n\n  var AvatarEditorBox = function AvatarEditorBox(_ref2) {\n    var file = _ref2.file;\n\n    var _useState5 = useState(0),\n        _useState6 = _slicedToArray(_useState5, 2),\n        rotate = _useState6[0],\n        setRotate = _useState6[1];\n\n    var _useState7 = useState(1),\n        _useState8 = _slicedToArray(_useState7, 2),\n        scale = _useState8[0],\n        setScale = _useState8[1];\n\n    var onChange = function onChange(v) {\n      console.log(v);\n      setRotate(v);\n    };\n\n    var onChangeScale = function onChangeScale(v) {\n      console.log(v);\n      setScale(v);\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        'marginLeft': '50px'\n      }\n    }, /*#__PURE__*/React.createElement(AvatarEditor, {\n      ref: editorRef,\n      image: file,\n      width: editor.width,\n      height: editor.height,\n      border: 1,\n      borderRadius: editor.borderRadius,\n      color: [24, 144, 255, 1] // RGBA\n      ,\n      scale: scale,\n      rotate: rotate\n    }), /*#__PURE__*/React.createElement(Row, {\n      gutter: 4\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 4\n    }, /*#__PURE__*/React.createElement(\"span\", null, \"\\u65CB\\u8F6C\")), /*#__PURE__*/React.createElement(Col, {\n      span: 15\n    }, /*#__PURE__*/React.createElement(Slider, {\n      tooltipVisible: false,\n      defaultValue: rotate,\n      min: -180,\n      max: 180,\n      onChange: onChange\n    }))), /*#__PURE__*/React.createElement(Row, {\n      gutter: 4\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 4\n    }, /*#__PURE__*/React.createElement(\"span\", null, \"\\u653E\\u5927\")), /*#__PURE__*/React.createElement(Col, {\n      span: 15\n    }, /*#__PURE__*/React.createElement(Slider, {\n      tooltipVisible: false,\n      defaultValue: scale,\n      step: 0.1,\n      min: 1,\n      max: 3,\n      onChange: onChangeScale\n    }))));\n  };\n\n  var uploadButton = /*#__PURE__*/React.createElement(\"div\", null, loading ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : /*#__PURE__*/React.createElement(PlusOutlined, null), children);\n\n  var beforeUpload = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(file) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n                console.log('文件', file);\n                var isJpgOrPng = imageType.indexOf(file.type) > -1;\n\n                if (!isJpgOrPng) {\n                  onError(\"\\u53EA\\u652F\\u6301\".concat(imageType.map(function (str) {\n                    return str.replace('image/', '');\n                  }).join('/'), \"\\u683C\\u5F0F\\u56FE\\u7247!\"), 'typeError', {\n                    type: imageType,\n                    fileType: file.type\n                  });\n                  reject();\n                  return false;\n                }\n\n                var isLt = file.size / 1024 / 1024 < size;\n\n                if (!isLt) {\n                  onError(\"\\u56FE\\u7247\\u4E0D\\u80FD\\u8D85\\u8FC7\".concat(size, \"MB!\"), 'sizeError', {\n                    size: size,\n                    fileSize: file.size\n                  });\n                  reject();\n                  return false;\n                }\n                /*剪切图像*/\n                // editor:{open:false,width:250,height:250,borderRadius:0-100,text:'剪切'}\n\n\n                if (editor.open) {\n                  Modal.success({\n                    // title: '剪切图像',\n                    icon: '',\n                    content: /*#__PURE__*/React.createElement(AvatarEditorBox, {\n                      file: file\n                    }),\n                    okText: editor.text,\n                    onOk: function onOk(close) {\n                      // console.log(editorRef.current);\n                      var base64 = editorRef.current.getImage().toDataURL();\n                      setImageUrl(base64);\n                      var blob = dataURLtoBlob(base64);\n                      var files = new window.File([blob], file.name, {\n                        type: file.type\n                      });\n                      onBeforeUpload && onBeforeUpload(files);\n                      resolve(files); // console.log(files);\n\n                      close();\n                    }\n                  });\n                } else {\n                  onBeforeUpload && onBeforeUpload(file);\n                  resolve(file); // return onBeforeUpload && onBeforeUpload(file);\n                }\n              }));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function beforeUpload(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var onChange = function onChange(info) {\n    if (info.file.status === 'uploading') {\n      setLoading(true);\n      return;\n    }\n\n    if (info.file.status === 'done') {\n      setLoading(false);\n      var response = (transformResponse || avatarParams.transformResponse)(info.file.response);\n\n      if (response.code === 200) {\n        propsChange(response.results);\n      } else {\n        onError(response.msg, 'xhrError', response);\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Upload$1, {\n    className: classnames(className, 'react-form-avatar'),\n    listType: \"picture-card\",\n    showUploadList: false,\n    action: action || avatarParams.action,\n    beforeUpload: beforeUpload,\n    onChange: onChange\n  }, showImageUrl ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"preview\"\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: showImageUrl,\n    alt: \"avatar\"\n  })) : uploadButton));\n};\n\n_Avatar.defaultProps = {\n  imageType: ['image/jpeg', 'image/png'],\n  fileSize: 2,\n  // 单位MB\n  children: /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ant-upload-text\"\n  }, \"\\u70B9\\u51FB\\u4E0A\\u4F20\"),\n  onError: function onError(info) {\n    return message.error(info);\n  },\n  editor: {\n    open: false,\n    width: 250,\n    height: 250,\n    borderRadius: 1,\n    text: '剪切'\n  }\n};\n\nvar AvatarInput = function AvatarInput(props) {\n  var render = useOnChange(props);\n  return render(_Avatar);\n};\n\nAvatarInput.field = _Avatar;\nvar useOnChange$1 = hooks.useOnChange;\n\nvar Cascader = function Cascader(props) {\n  var render = useOnChange$1(props);\n  return render(Cascader$2);\n};\n\nvar useOnChange$2 = hooks.useOnChange,\n    useCheckedToValue = hooks.useCheckedToValue;\nvar withChecked = hoc.withChecked;\nvar WithCheckbox = withChecked(Checkbox$2);\n\nvar Checkbox = function Checkbox(props) {\n  var checkedProps = useCheckedToValue(props);\n  var render = useOnChange$2(checkedProps);\n  return render(WithCheckbox);\n};\n\nvar useOnChange$3 = hooks.useOnChange;\nvar _CheckboxGroup = Checkbox$2.Group;\n\nvar CheckboxGroup = function CheckboxGroup(props) {\n  var render = useOnChange$3(props);\n  return render(_CheckboxGroup);\n};\n\nCheckboxGroup.Checkbox = Checkbox$2;\nvar useOnChange$4 = hooks.useOnChange;\nvar MonthPicker = DatePicker$1.MonthPicker,\n    RangePicker = DatePicker$1.RangePicker,\n    WeekPicker = DatePicker$1.WeekPicker;\n\nvar _DatePicker = function _DatePicker(props) {\n  var render = useOnChange$4(props);\n  return render(DatePicker$1);\n};\n\nvar _MonthPicker = function _MonthPicker(props) {\n  var render = useOnChange$4(props);\n  return render(MonthPicker);\n};\n\nvar _RangePicker = function _RangePicker(props) {\n  var render = useOnChange$4(props);\n  return render(RangePicker);\n};\n\nvar _WeekPicker = function _WeekPicker(props) {\n  var render = useOnChange$4(props);\n  return render(WeekPicker);\n};\n\n_DatePicker.MonthPicker = _MonthPicker;\n_DatePicker.RangePicker = _RangePicker;\n_DatePicker.WeekPicker = _WeekPicker;\nvar useDecorator = hooks.useDecorator;\n\nvar InputField = function InputField(props) {\n  var render = useDecorator(props);\n  return render(Input$1);\n};\n\nInputField.defaultProps = {\n  autoComplete: 'off'\n};\nvar useDecorator$1 = hooks.useDecorator;\n\nvar InputNumberField = function InputNumberField(props) {\n  var render = useDecorator$1(props);\n  return render(InputNumber$1);\n};\n\nInputNumberField.defaultProps = {\n  autoComplete: 'off'\n};\nvar useOnChange$5 = hooks.useOnChange;\n\nvar RadioGroup = function RadioGroup(_ref) {\n  var onChange = _ref.onChange,\n      props = _objectWithoutProperties(_ref, [\"onChange\"]);\n\n  var handler = useCallback(function (e) {\n    onChange && onChange(e.target.value);\n  }, [onChange]);\n  return /*#__PURE__*/React.createElement(Radio.Group, _extends({}, props, {\n    onChange: handler\n  }));\n};\n\nvar _RadioGroup = function _RadioGroup(props) {\n  var render = useOnChange$5(props);\n  return render(RadioGroup);\n};\n\n_RadioGroup.Radio = Radio;\nvar useOnChange$6 = hooks.useOnChange;\n\nvar _Select = function _Select(props) {\n  var render = useOnChange$6(props);\n  return render(Select$1);\n};\n\n_Select.Option = Select$1.Option;\n_Select.OptGroup = Select$1.OptGroup;\nvar useOnChange$7 = hooks.useOnChange;\n\nvar _SelectFetch = withFetch(function (_ref) {\n  var data = _ref.data,\n      setData = _ref.setData,\n      refresh = _ref.refresh,\n      isLoading = _ref.isLoading,\n      children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"data\", \"setData\", \"refresh\", \"isLoading\", \"children\"]);\n\n  return /*#__PURE__*/React.createElement(Select$1, props, children({\n    data: data,\n    refresh: refresh,\n    isLoading: isLoading,\n    setData: setData\n  }));\n});\n\nvar SelectFetch = function SelectFetch(props) {\n  var render = useOnChange$7(props);\n  return render(_SelectFetch);\n};\n\nSelectFetch.Option = Select$1.Option;\nSelectFetch.OptGroup = Select$1.OptGroup;\nvar useOnChange$8 = hooks.useOnChange,\n    useCheckedToValue$1 = hooks.useCheckedToValue;\nvar withChecked$1 = hoc.withChecked;\nvar WithSwitch = withChecked$1(Switch$2);\n\nvar Switch = function Switch(props) {\n  var checkedProps = useCheckedToValue$1(props);\n  var render = useOnChange$8(checkedProps);\n  return render(WithSwitch);\n};\n\nvar useDecorator$2 = hooks.useDecorator;\n\nvar TextArea = function TextArea(props) {\n  var render = useDecorator$2(props);\n  return render(Input$1.TextArea);\n};\n\nvar useOnChange$9 = hooks.useOnChange;\nvar RangePicker$1 = TimePicker$1.RangePicker;\n\nvar _TimePicker = function _TimePicker(props) {\n  var render = useOnChange$9(props);\n  return render(TimePicker$1);\n};\n\nvar _RangePicker$1 = function _RangePicker(props) {\n  var render = useOnChange$9(props);\n  return render(RangePicker$1);\n};\n\n_TimePicker.RangePicker = _RangePicker$1;\nvar useOnChange$a = hooks.useOnChange;\n\nvar _TreeSelect = function _TreeSelect(props) {\n  var render = useOnChange$a(props);\n  return render(TreeSelect$1);\n};\n\n_TreeSelect.TreeNode = TreeSelect$1.TreeNode;\nvar useOnChange$b = hooks.useOnChange;\nvar Dragger = Upload$1.Dragger;\nvar uploadParams = globalParams.field.upload;\n\nvar valueToList = function valueToList(value) {\n  if (!value) {\n    return [];\n  }\n\n  return value.map(function (item) {\n    return {\n      uid: uniqueId(),\n      name: item.substr(item.lastIndexOf('/') + 1),\n      status: 'done',\n      response: {\n        code: 200,\n        results: item\n      }\n    };\n  });\n};\n\nvar listToValue = function listToValue(value) {\n  return value.slice(0).filter(function (_ref) {\n    var status = _ref.status;\n    return status === 'done';\n  }).map(function (_ref2) {\n    var response = _ref2.response;\n    return response.results;\n  });\n};\n\nvar withValueAdapter = function withValueAdapter(WrappedComponent) {\n  return function (_ref3) {\n    var value = _ref3.value,\n        _onChange = _ref3.onChange,\n        props = _objectWithoutProperties(_ref3, [\"value\", \"onChange\"]);\n\n    var _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        list = _useState2[0],\n        setList = _useState2[1];\n\n    var targetListRef = useRef([]);\n    useEffect(function () {\n      if (isEqual(value, targetListRef.current)) {\n        return;\n      }\n\n      setList(valueToList(value));\n    }, [value]);\n    return /*#__PURE__*/React.createElement(WrappedComponent, _extends({}, props, {\n      value: list,\n      onChange: function onChange(value) {\n        value = value.map(function (item) {\n          return Object.assign({}, item);\n        });\n        setList(value);\n        var targetList = listToValue(value);\n        targetListRef.current = targetList;\n\n        if (isEqual(targetList, value)) {\n          return;\n        }\n\n        _onChange(targetList);\n      }\n    }));\n  };\n};\n\nvar _Upload = function _Upload(_ref4) {\n  var className = _ref4.className,\n      list = _ref4.value,\n      setList = _ref4.onChange,\n      onUploadComplete = _ref4.onUploadComplete,\n      onBeforeUpload = _ref4.beforeUpload,\n      maxLength = _ref4.maxLength,\n      drag = _ref4.drag,\n      transformResponse = _ref4.transformResponse,\n      action = _ref4.action,\n      accept = _ref4.accept,\n      size = _ref4.fileSize,\n      children = _ref4.children,\n      onError = _ref4.onError,\n      props = _objectWithoutProperties(_ref4, [\"className\", \"value\", \"onChange\", \"onUploadComplete\", \"beforeUpload\", \"maxLength\", \"drag\", \"transformResponse\", \"action\", \"accept\", \"fileSize\", \"children\", \"onError\"]);\n\n  var beforeUpload = function beforeUpload(file) {\n    if (maxLength === 1) {\n      setList([]);\n    }\n    /*const typeAllowed = accept.length === 0 || !!accept.find((type) => type === file.type);\n    if (!typeAllowed) {\n        onError(`只支持${accept.join('/')}格式文件!`, 'typeError', {\n            type: accept,\n            fileType: file.type\n        });\n        return false;\n    }*/\n\n\n    var isLt = file.size / 1024 / 1024 < size;\n\n    if (!isLt) {\n      onError(\"\\u6587\\u4EF6\\u4E0D\\u80FD\\u8D85\\u8FC7\".concat(size, \"MB!\"), 'sizeError', {\n        size: size,\n        fileSize: file.size\n      });\n      return false;\n    }\n\n    return onBeforeUpload && onBeforeUpload(file);\n  };\n\n  var onChange = function onChange(info) {\n    if (['uploading', 'done', 'error', 'removed'].indexOf(info.file.status) === -1) {\n      return;\n    }\n\n    if (info.fileList.length > maxLength) {\n      onError(\"\\u4E0A\\u4F20\\u6587\\u4EF6\\u4E0D\\u80FD\\u8D85\\u8FC7\\u6700\\u5927\\u5141\\u8BB8\\u6570\\u91CF\".concat(maxLength), 'xhrError', maxLength);\n      return;\n    }\n\n    if (info.file.status === 'done') {\n      info.file.response = (transformResponse || uploadParams.transformResponse)(info.file.response);\n\n      if (info.file.response.code === 200) {\n        info.file.name = info.file.response.results.substr(info.file.response.results.lastIndexOf('/') + 1);\n        onUploadComplete(info.file);\n      } else {\n        info.file.status = 'error';\n        onError(info.file.response.msg, 'xhrError', info.file.response);\n      }\n    }\n\n    var newList = list.slice(0);\n    var index = newList.findIndex(function (_ref5) {\n      var uid = _ref5.uid;\n      return uid === info.file.uid;\n    });\n    index > -1 && newList.splice(index, 1);\n\n    if (info.file.status !== 'removed') {\n      newList.push(info.file);\n    }\n\n    setList(newList);\n  };\n\n  var UploadComponent = drag ? Dragger : Upload$1;\n  return /*#__PURE__*/React.createElement(UploadComponent, _extends({}, props, {\n    action: action || uploadParams.action,\n    fileList: list,\n    accept: accept.join(','),\n    onChange: onChange,\n    beforeUpload: beforeUpload\n  }), children);\n};\n\n_Upload.defaultProps = {\n  value: [],\n  accept: [],\n  fileSize: 2,\n  maxLength: 1,\n  children: /*#__PURE__*/React.createElement(Button, null, /*#__PURE__*/React.createElement(UploadOutlined, null), \"\\u70B9\\u51FB\\u4E0A\\u4F20\"),\n  onError: function onError(info) {\n    return message.error(info);\n  },\n  onUploadComplete: function onUploadComplete() {}\n};\nvar AdapterUpload = withValueAdapter(_Upload);\n\nvar UploadInput = function UploadInput(props) {\n  var render = useOnChange$b(props);\n  return render(AdapterUpload);\n};\n\nUploadInput.field = _Upload;\n\nvar SubmitButton = function SubmitButton(props) {\n  var _useSubmit = useSubmit(props),\n      isPass = _useSubmit.isPass,\n      isLoading = _useSubmit.isLoading,\n      submitProps = _objectWithoutProperties(_useSubmit, [\"isPass\", \"isLoading\"]);\n\n  return /*#__PURE__*/React.createElement(Button, _extends({\n    loading: isLoading\n  }, submitProps, props));\n};\n\nvar ResetButton = function ResetButton(props) {\n  var resetProps = useReset();\n  return /*#__PURE__*/React.createElement(Button, _extends({}, resetProps, props));\n};\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar FetchForm = withFetch(Form);\n\nvar CommonModal = function CommonModal(_ref) {\n  var formProps = _ref.formProps,\n      footer = _ref.footer,\n      children = _ref.children;\n  var TargetForm = formProps.hasOwnProperty('url') ? FetchForm : Form;\n  return /*#__PURE__*/React.createElement(TargetForm, formProps, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ant-modal-body\"\n  }, children), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ant-modal-footer\"\n  }, footer ? footer : /*#__PURE__*/React.createElement(Space, null, /*#__PURE__*/React.createElement(ResetButton, null, \"\\u91CD\\u7F6E\"), /*#__PURE__*/React.createElement(SubmitButton, {\n    type: \"primary\"\n  }, \"\\u786E\\u5B9A\"))));\n};\n\nvar FormModal = function FormModal(_ref2) {\n  var className = _ref2.className,\n      _ref2$formProps = _ref2.formProps,\n      formProps = _ref2$formProps === void 0 ? {} : _ref2$formProps,\n      footer = _ref2.footer,\n      children = _ref2.children,\n      props = _objectWithoutProperties(_ref2, [\"className\", \"formProps\", \"footer\", \"children\"]);\n\n  return /*#__PURE__*/React.createElement(Modal, _extends({}, props, {\n    className: classnames(className, 'react-form-modal'),\n    footer: null\n  }), /*#__PURE__*/React.createElement(CommonModal, {\n    formProps: formProps,\n    footer: footer\n  }, children));\n};\n\nFormModal.modal = function (_ref3) {\n  var className = _ref3.className,\n      title = _ref3.title,\n      _ref3$formProps = _ref3.formProps,\n      formProps = _ref3$formProps === void 0 ? {} : _ref3$formProps,\n      footer = _ref3.footer,\n      content = _ref3.content,\n      props = _objectWithoutProperties(_ref3, [\"className\", \"title\", \"formProps\", \"footer\", \"content\"]);\n\n  return Modal.info(_objectSpread(_objectSpread({}, props), {}, {\n    title: title ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ant-modal-header\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ant-modal-title\"\n    }, title)) : null,\n    className: classnames(className, 'react-form-modal'),\n    content: /*#__PURE__*/React.createElement(CommonModal, {\n      formProps: formProps,\n      footer: footer\n    }, content),\n    icon: null,\n    footer: null\n  }));\n};\n\nvar Avatar = AvatarInput;\nvar Cascader$1 = Cascader;\nvar Checkbox$1 = Checkbox;\nvar CheckboxGroup$1 = CheckboxGroup;\nvar DatePicker = _DatePicker;\nvar Input = InputField;\nvar InputNumber = InputNumberField;\nvar RadioGroup$1 = _RadioGroup;\nvar Select = _Select;\nvar SelectFetch$1 = SelectFetch;\nvar Switch$1 = Switch;\nvar TextArea$1 = TextArea;\nvar TimePicker = _TimePicker;\nvar TreeSelect = _TreeSelect;\nvar Upload = UploadInput;\nvar fields = {\n  Avatar: Avatar,\n  Cascader: Cascader$1,\n  Checkbox: Checkbox$1,\n  CheckboxGroup: CheckboxGroup$1,\n  DatePicker: DatePicker,\n  Input: Input,\n  InputNumber: InputNumber,\n  RadioGroup: RadioGroup$1,\n  Select: Select,\n  SelectFetch: SelectFetch$1,\n  Switch: Switch$1,\n  TextArea: TextArea$1,\n  TimePicker: TimePicker,\n  TreeSelect: TreeSelect,\n  Upload: Upload\n};\nexport default Form;\nexport { Avatar, Cascader$1 as Cascader, Checkbox$1 as Checkbox, CheckboxGroup$1 as CheckboxGroup, DatePicker, FormModal, Input, InputNumber, RadioGroup$1 as RadioGroup, ResetButton, Select, SelectFetch$1 as SelectFetch, SubmitButton, Switch$1 as Switch, TextArea$1 as TextArea, TimePicker, TreeSelect, Upload, fields, preset };","map":{"version":3,"sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/Form.js","../src/preset.js","../src/fields/Avatar.js","../src/fields/Cascader.js","../src/fields/Checkbox.js","../src/fields/CheckboxGroup.js","../src/fields/DatePicker.js","../src/fields/Input.js","../src/fields/InputNumber.js","../src/fields/RadioGroup.js","../src/fields/Select.js","../src/fields/SelectFetch.js","../src/fields/Switch.js","../src/fields/TextArea.js","../src/fields/TimePicker.js","../src/fields/TreeSelect.js","../src/fields/Upload.js","../src/SubmitButton.js","../src/ResetButton.js","../src/FormModal.js","../src/index.js"],"names":["ScrollToError","EnterSubmit","FormStore","MaxLabelProvider","SizeProvider","widget","Form","forwardRef","className","cache","enterSubmit","scrollToError","scrollProps","type","size","children","props","computedClass","maxLabel","classnames","e","ref","block","PropTypes","behavior","inline","globalParams","rules","field","upload","action","transformResponse","code","response","msg","results","get","avatar","merge","presetRules","useOnChange","hooks","avatarParams","_Avatar","value","imageUrl","onChange","propsChange","beforeUpload","onBeforeUpload","imageType","fileSize","onError","editor","loading","setLoading","useState","showImageUrl","setImageUrl","editorRef","useRef","useEffect","dataURLtoBlob","arr","dataurl","_arr","mime","bstr","atob","n","u8arr","AvatarEditorBox","file","rotate","setRotate","scale","setScale","console","onChangeScale","uploadButton","isJpgOrPng","str","fileType","reject","isLt","Modal","icon","content","okText","onOk","base64","blob","files","window","resolve","close","info","message","open","width","height","borderRadius","text","AvatarInput","render","Cascader","useCheckedToValue","withChecked","hoc","WithCheckbox","Checkbox","checkedProps","_CheckboxGroup","CheckboxGroup","MonthPicker","RangePicker","WeekPicker","DatePicker","_DatePicker","_MonthPicker","_RangePicker","_WeekPicker","useDecorator","InputField","autoComplete","InputNumberField","RadioGroup","handler","useCallback","_RadioGroup","_Select","Select","_SelectFetch","withFetch","data","setData","refresh","isLoading","SelectFetch","WithSwitch","Switch","TextArea","Input","TimePicker","_TimePicker","_TreeSelect","TreeSelect","Dragger","Upload","uploadParams","valueToList","uid","uniqueId","name","item","status","listToValue","withValueAdapter","list","setList","targetListRef","isEqual","Object","targetList","_Upload","onUploadComplete","maxLength","drag","accept","newList","index","UploadComponent","AdapterUpload","UploadInput","SubmitButton","isPass","submitProps","useSubmit","ResetButton","resetProps","useReset","FetchForm","CommonModal","formProps","footer","TargetForm","FormModal","title","Avatar","Avatar$","Cascader$","Checkbox$","CheckboxGroup$","DatePicker$","Input$","InputNumber","InputNumber$","RadioGroup$","Select$","SelectFetch$","Switch$","TextArea$","TimePicker$","TreeSelect$","Upload$","fields"],"mappings":"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","sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, {forwardRef} from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport ReactForm from '@kne/react-form';\nimport {widget} from '@kne/react-form-helper';\nimport './assets/index.scss';\n\nexport * from '@kne/react-form';\nexport {hooks, utils} from '@kne/react-form-helper';\n\nconst {ScrollToError, EnterSubmit, FormStore, MaxLabelProvider, SizeProvider} = widget;\n\nconst Form = forwardRef(({className, cache, enterSubmit, scrollToError, scrollProps, type, size, children, ...props}, ref) => {\n    let computedClass = 'react-form';\n    if (type !== 'default') {\n        computedClass += `--${type}`;\n    }\n\n    if (size !== 'middle') {\n        computedClass += `--${size}`;\n    }\n\n    const maxLabel = <MaxLabelProvider>\n        {children}\n    </MaxLabelProvider>;\n\n    return (\n        <form className={classnames(computedClass, className)} onSubmit={(e) => {\n            e.preventDefault();\n            e.stopPropagation();\n        }}>\n            <SizeProvider value={{size}}>\n                <ReactForm {...props} ref={ref}>\n                    {cache ? <FormStore cache={cache}/> : null}\n                    {scrollToError ? <ScrollToError scrollProps={scrollProps}/> : null}\n                    {enterSubmit ? <EnterSubmit>\n                        {maxLabel}\n                    </EnterSubmit> : maxLabel}\n                </ReactForm>\n            </SizeProvider>\n        </form>\n    );\n});\n\nForm.defaultProps = {\n    type: 'default',\n    size: 'middle',\n    scrollToError: true,\n    enterSubmit: false,\n    scrollProps: {\n        block: 'center'\n    }\n};\n\nForm.propTypes = {\n    className: PropTypes.string,\n    type: PropTypes.oneOf(['inline', 'default', 'inner']),\n    size: PropTypes.oneOf(['small', 'middle', 'large']),\n    enterSubmit: PropTypes.bool,\n    scrollToError: PropTypes.bool,\n    scrollProps: PropTypes.shape({\n        block: PropTypes.oneOf(['start', 'center', 'end', 'nearest']),\n        behavior: PropTypes.oneOf(['auto', 'smooth']),\n        inline: PropTypes.oneOf(['start', 'center', 'end', 'nearest'])\n    })\n};\n\nexport default Form;","import {preset as presetRules} from '@kne/react-form';\nimport merge from 'lodash/merge';\nimport get from \"lodash/get\";\n\nexport const globalParams = {\n    rules: {},\n    field: {\n        upload: {\n            action: '/open-api/upload_static_file/interview-manager',\n            transformResponse: (response) => {\n                return {\n                    code: response.code,\n                    msg: response.msg,\n                    results: get(response, 'results[0].targetPath')\n                };\n            }\n        },\n        avatar: {\n            transformResponse: (response) => {\n                return {\n                    code: response.code,\n                    results: response.results,\n                    msg: response.msg\n                }\n            },\n            action: '/upload'\n        }\n    }\n};\n\nexport default (props) => {\n    merge(globalParams, props);\n    presetRules(globalParams.rules);\n};","import React, {useState, useRef, useEffect} from 'react';\nimport {Upload, message, Modal, Slider, Row, Col, Space} from 'antd';\nimport {globalParams} from '../preset';\nimport classnames from 'classnames';\nimport {\n    PlusOutlined,\n    LoadingOutlined\n} from '@ant-design/icons';\nimport AvatarEditor from \"react-avatar-editor\";\nimport {hooks} from '@kne/react-form-helper';\n\nconst {useOnChange} = hooks;\nconst avatarParams = globalParams.field.avatar;\n\n\nconst _Avatar = ({className, value: imageUrl, onChange: propsChange, beforeUpload: onBeforeUpload, transformResponse, action, imageType, fileSize: size, children, onError, editor}) => {\n    const [loading, setLoading] = useState(false);\n    const [showImageUrl, setImageUrl] = useState(imageUrl);\n    const editorRef = useRef();\n\n    useEffect(() => {\n        setImageUrl(imageUrl)\n    }, [imageUrl])\n\n    /* base64转blob */\n    const dataURLtoBlob = (dataurl) => {\n        let arr = dataurl.split(',');\n        // 注意base64的最后面中括号和引号是不转译的\n        let _arr = arr[1].substring(0, arr[1].length - 2);\n        let mime = arr[0].match(/:(.*?);/)[1],\n            bstr = atob(_arr),\n            n = bstr.length,\n            u8arr = new Uint8Array(n);\n        while (n--) {\n            u8arr[n] = bstr.charCodeAt(n);\n        }\n        return new Blob([u8arr], {\n            type: mime\n        });\n    };\n\n\n\n    const AvatarEditorBox = ({file})=>{\n        const [rotate, setRotate] = useState(0);\n        const [scale, setScale] = useState(1);\n\n        const onChange = (v)=>{\n            console.log(v);\n            setRotate(v);\n        }\n        const onChangeScale = (v)=>{\n            console.log(v);\n            setScale(v);\n        }\n        return (\n            <div style={{'marginLeft':'50px'}}>\n                <AvatarEditor\n                    ref={editorRef}\n                    image={file}\n                    width={editor.width}\n                    height={editor.height}\n                    border={1}\n                    borderRadius={editor.borderRadius}\n                    color={[24, 144, 255, 1]} // RGBA\n                    scale={scale}\n                    rotate={rotate}\n                />\n                <Row gutter={4}>\n                    <Col span={4}><span>旋转</span></Col>\n                    <Col span={15}>\n                        <Slider tooltipVisible={false} defaultValue={rotate} min={-180} max={180} onChange={onChange} />\n                    </Col>\n                </Row>\n                <Row gutter={4}>\n                    <Col span={4}><span>放大</span></Col>\n                    <Col span={15}>\n                        <Slider tooltipVisible={false} defaultValue={scale} step={0.1} min={1} max={3} onChange={onChangeScale} />\n                    </Col>\n                </Row>\n            </div>\n        )\n    }\n\n    const uploadButton = (\n        <div>\n            {loading ? <LoadingOutlined/> : <PlusOutlined/>}\n            {children}\n        </div>\n    );\n\n    const beforeUpload = async (file) => {\n        return new Promise((resolve, reject) => {\n\n            console.log('文件', file);\n            const isJpgOrPng = imageType.indexOf(file.type) > -1;\n            if (!isJpgOrPng) {\n                onError(`只支持${imageType.map((str) => str.replace('image/', '')).join('/')}格式图片!`, 'typeError', {\n                    type: imageType,\n                    fileType: file.type\n                });\n                reject();\n                return false;\n            }\n            const isLt = file.size / 1024 / 1024 < size;\n            if (!isLt) {\n                onError(`图片不能超过${size}MB!`, 'sizeError', {size, fileSize: file.size});\n                reject();\n                return false;\n            }\n\n            /*剪切图像*/\n            // editor:{open:false,width:250,height:250,borderRadius:0-100,text:'剪切'}\n            if (editor.open) {\n                Modal.success({\n                    // title: '剪切图像',\n                    icon: '',\n                    content: <AvatarEditorBox file={file}/>,\n                    okText: editor.text,\n                    onOk: (close) => {\n                        // console.log(editorRef.current);\n                        let base64 = editorRef.current.getImage().toDataURL();\n                        setImageUrl(base64);\n                        let blob = dataURLtoBlob(base64);\n                        const files = new window.File(\n                            [blob],\n                            file.name,\n                            { type: file.type }\n                        );\n                        onBeforeUpload && onBeforeUpload(files);\n                        resolve(files);\n                        // console.log(files);\n                        close();\n                    }\n                })\n            } else {\n                onBeforeUpload && onBeforeUpload(file);\n                resolve(file);\n                // return onBeforeUpload && onBeforeUpload(file);\n            }\n        })\n\n    };\n\n    const onChange = (info) => {\n        if (info.file.status === 'uploading') {\n            setLoading(true);\n            return;\n        }\n        if (info.file.status === 'done') {\n            setLoading(false);\n            const response = (transformResponse || avatarParams.transformResponse)(info.file.response);\n            if (response.code === 200) {\n                propsChange(response.results);\n            } else {\n                onError(response.msg, 'xhrError', response);\n            }\n        }\n    };\n\n    return (\n        <>\n            <Upload className={classnames(className, 'react-form-avatar')} listType=\"picture-card\"\n                    showUploadList={false}\n                    action={action || avatarParams.action}\n                    beforeUpload={beforeUpload} onChange={onChange}>\n                {showImageUrl ? <div className=\"preview\"><img src={showImageUrl} alt=\"avatar\"/></div> : uploadButton}\n            </Upload>\n        </>\n    );\n};\n\n_Avatar.defaultProps = {\n    imageType: ['image/jpeg', 'image/png'],\n    fileSize: 2, // 单位MB\n    children: <div className=\"ant-upload-text\">点击上传</div>,\n    onError: (info) => message.error(info),\n    editor: {open: false, width: 250, height: 250, borderRadius: 1, text: '剪切'}\n};\n\nconst AvatarInput = (props) => {\n    const render = useOnChange(props);\n    return render(_Avatar);\n};\n\nAvatarInput.field = _Avatar;\n\nexport default AvatarInput;\n","import {Cascader as _Cascader} from 'antd';\nimport {hooks} from '@kne/react-form-helper';\n\nconst {useOnChange} = hooks;\n\nconst Cascader = (props) => {\n    const render = useOnChange(props);\n    return render(_Cascader);\n};\n\nexport default Cascader;\n\n","import {Checkbox as _Checkbox} from 'antd';\nimport {hooks, hoc} from '@kne/react-form-helper';\n\nconst {useOnChange, useCheckedToValue} = hooks;\nconst {withChecked} = hoc;\n\nconst WithCheckbox = withChecked(_Checkbox);\n\nconst Checkbox = (props) => {\n    const checkedProps = useCheckedToValue(props);\n    const render = useOnChange(checkedProps);\n    return render(WithCheckbox);\n};\n\nexport default Checkbox;\n","import {Checkbox} from 'antd';\nimport {hooks} from '@kne/react-form-helper';\n\nconst {useOnChange} = hooks;\n\nconst _CheckboxGroup = Checkbox.Group;\n\nconst CheckboxGroup = (props) => {\n    const render = useOnChange(props);\n    return render(_CheckboxGroup);\n};\n\nCheckboxGroup.Checkbox = Checkbox;\n\nexport default CheckboxGroup;\n","import {DatePicker} from 'antd';\nimport {hooks} from '@kne/react-form-helper';\n\nconst {useOnChange} = hooks;\n\nconst {MonthPicker, RangePicker, WeekPicker} = DatePicker;\n\nconst _DatePicker = (props) => {\n    const render = useOnChange(props);\n    return render(DatePicker);\n};\n\nconst _MonthPicker = (props) => {\n    const render = useOnChange(props);\n    return render(MonthPicker);\n};\n\nconst _RangePicker = (props) => {\n    const render = useOnChange(props);\n    return render(RangePicker);\n};\n\nconst _WeekPicker = (props) => {\n    const render = useOnChange(props);\n    return render(WeekPicker);\n};\n\n_DatePicker.MonthPicker = _MonthPicker;\n_DatePicker.RangePicker = _RangePicker;\n_DatePicker.WeekPicker = _WeekPicker;\n\nexport default _DatePicker;\n","import {Input} from 'antd';\nimport {hooks} from '@kne/react-form-helper';\n\nconst {useDecorator} = hooks;\n\nconst InputField = (props) => {\n  const render = useDecorator(props);\n  return render(Input);\n};\n\nInputField.defaultProps = {\n  autoComplete: 'off'\n};\n\nexport default InputField;\n","import {InputNumber} from 'antd';\nimport {hooks} from '@kne/react-form-helper';\n\nconst {useDecorator} = hooks;\n\nconst InputNumberField = (props) => {\n  const render = useDecorator(props);\n  return render(InputNumber);\n};\n\nInputNumberField.defaultProps = {\n  autoComplete: 'off'\n};\n\nexport default InputNumberField;\n","import React, {useCallback} from 'react';\nimport {Radio} from 'antd';\nimport {hooks} from '@kne/react-form-helper';\n\nconst {useOnChange} = hooks;\n\nconst RadioGroup = ({onChange, ...props})=>{\n    const handler = useCallback((e) => {\n        onChange && onChange(e.target.value);\n    }, [onChange]);\n    return <Radio.Group {...props} onChange={handler}/>\n};\n\nconst _RadioGroup = (props) => {\n    const render = useOnChange(props);\n    return render(RadioGroup);\n};\n\n_RadioGroup.Radio = Radio;\n\nexport default _RadioGroup;\n","import {Select} from 'antd';\nimport {hooks} from '@kne/react-form-helper';\n\nconst {useOnChange} = hooks;\n\nconst _Select = (props) => {\n    const render = useOnChange(props);\n    return render(Select);\n};\n\n_Select.Option = Select.Option;\n_Select.OptGroup = Select.OptGroup;\n\nexport default _Select;\n","import React from 'react';\nimport {withFetch} from '@kne/react-fetch';\nimport {Select} from 'antd';\nimport {hooks} from '@kne/react-form-helper';\n\nconst {useOnChange} = hooks;\n\nconst _SelectFetch = withFetch(({data, setData, refresh, isLoading, children, ...props}) => {\n    return <Select {...props}>{children({data, refresh, isLoading, setData})}</Select>;\n});\n\nconst SelectFetch = (props) => {\n    const render = useOnChange(props);\n    return render(_SelectFetch);\n};\n\nSelectFetch.Option = Select.Option;\nSelectFetch.OptGroup = Select.OptGroup;\n\nexport default SelectFetch;\n","import {Switch as _Switch} from 'antd';\nimport {hooks, hoc} from '@kne/react-form-helper';\n\nconst {useOnChange, useCheckedToValue} = hooks;\nconst {withChecked} = hoc;\nconst WithSwitch = withChecked(_Switch);\n\nconst Switch = (props) => {\n    const checkedProps = useCheckedToValue(props);\n    const render = useOnChange(checkedProps);\n    return render(WithSwitch);\n};\n\nexport default Switch;\n","import {Input} from 'antd';\nimport {hooks} from '@kne/react-form-helper';\n\nconst {useDecorator} = hooks;\n\nconst TextArea = (props) => {\n    const render = useDecorator(props);\n    return render(Input.TextArea);\n};\n\nexport default TextArea;\n","import {TimePicker} from 'antd';\nimport {hooks} from '@kne/react-form-helper';\n\nconst {useOnChange} = hooks;\n\nconst {RangePicker} = TimePicker;\n\nconst _TimePicker = (props) => {\n    const render = useOnChange(props);\n    return render(TimePicker);\n};\n\nconst _RangePicker = (props) => {\n    const render = useOnChange(props);\n    return render(RangePicker);\n};\n\n_TimePicker.RangePicker = _RangePicker;\n\nexport default _TimePicker;\n","import {TreeSelect} from 'antd';\nimport {hooks} from '@kne/react-form-helper';\n\nconst {useOnChange} = hooks;\n\nconst _TreeSelect = (props) => {\n    const render = useOnChange(props);\n    return render(TreeSelect);\n};\n\n_TreeSelect.TreeNode = TreeSelect.TreeNode;\n\nexport default _TreeSelect;\n","import React, {useState, useEffect, useRef} from 'react';\nimport {Upload, message, Button} from 'antd';\nimport {\n    UploadOutlined\n} from '@ant-design/icons';\nimport uniqueId from 'lodash/uniqueId';\nimport isEqual from 'lodash/isEqual';\nimport {hooks} from '@kne/react-form-helper';\nimport {globalParams} from \"../preset\";\n\nconst {useOnChange} = hooks;\n\nconst {Dragger} = Upload;\n\nconst uploadParams = globalParams.field.upload;\n\nconst valueToList = (value) => {\n    if (!value) {\n        return [];\n    }\n    return value.map((item) => ({\n        uid: uniqueId(),\n        name: item.substr(item.lastIndexOf('/') + 1),\n        status: 'done',\n        response: {code: 200, results: item}\n    }));\n};\n\nconst listToValue = (value) => {\n    return value.slice(0).filter(({status}) => status === 'done').map(({response}) => response.results);\n};\n\nconst withValueAdapter = (WrappedComponent) => ({value, onChange, ...props}) => {\n    const [list, setList] = useState([]);\n\n    const targetListRef = useRef([]);\n\n    useEffect(() => {\n        if (isEqual(value, targetListRef.current)) {\n            return;\n        }\n        setList(valueToList(value));\n    }, [value]);\n\n    return <WrappedComponent {...props} value={list} onChange={(value) => {\n        value = value.map((item) => Object.assign({}, item));\n        setList(value);\n        const targetList = listToValue(value);\n        targetListRef.current = targetList;\n        if (isEqual(targetList, value)) {\n            return;\n        }\n        onChange(targetList);\n    }}/>;\n};\n\nconst _Upload = ({className, value: list, onChange: setList, onUploadComplete, beforeUpload: onBeforeUpload, maxLength, drag, transformResponse, action, accept, fileSize: size, children, onError, ...props}) => {\n    const beforeUpload = (file) => {\n        if (maxLength === 1) {\n            setList([]);\n        }\n        /*const typeAllowed = accept.length === 0 || !!accept.find((type) => type === file.type);\n        if (!typeAllowed) {\n            onError(`只支持${accept.join('/')}格式文件!`, 'typeError', {\n                type: accept,\n                fileType: file.type\n            });\n            return false;\n        }*/\n        const isLt = file.size / 1024 / 1024 < size;\n        if (!isLt) {\n            onError(`文件不能超过${size}MB!`, 'sizeError', {size, fileSize: file.size});\n            return false;\n        }\n\n        return onBeforeUpload && onBeforeUpload(file);\n    };\n\n    const onChange = (info) => {\n        if (['uploading', 'done', 'error', 'removed'].indexOf(info.file.status) === -1) {\n            return;\n        }\n        if (info.fileList.length > maxLength) {\n            onError(`上传文件不能超过最大允许数量${maxLength}`, 'xhrError', maxLength);\n            return;\n        }\n        if (info.file.status === 'done') {\n            info.file.response = (transformResponse || uploadParams.transformResponse)(info.file.response);\n            if (info.file.response.code === 200) {\n                info.file.name = info.file.response.results.substr(info.file.response.results.lastIndexOf('/') + 1);\n                onUploadComplete(info.file);\n            } else {\n                info.file.status = 'error';\n                onError(info.file.response.msg, 'xhrError', info.file.response);\n            }\n        }\n        const newList = list.slice(0);\n        const index = newList.findIndex(({uid}) => uid === info.file.uid);\n        index > -1 && newList.splice(index, 1);\n        if (info.file.status !== 'removed') {\n            newList.push(info.file);\n        }\n        setList(newList);\n    };\n\n    const UploadComponent = drag ? Dragger : Upload;\n\n    return (\n        <UploadComponent {...props} action={action || uploadParams.action} fileList={list} accept={accept.join(',')}\n                         onChange={onChange}\n                         beforeUpload={beforeUpload}\n        >\n            {children}\n        </UploadComponent>\n    );\n};\n\n_Upload.defaultProps = {\n    value: [],\n    accept: [],\n    fileSize: 2,\n    maxLength: 1,\n    children: <Button><UploadOutlined/>点击上传</Button>,\n    onError: (info) => message.error(info),\n    onUploadComplete: () => {\n    }\n};\n\nconst AdapterUpload = withValueAdapter(_Upload);\n\nconst UploadInput = (props) => {\n    const render = useOnChange(props);\n    return render(AdapterUpload);\n};\n\nUploadInput.field = _Upload;\n\nexport default UploadInput;\n","import React from 'react';\nimport {useSubmit} from '@kne/react-form';\nimport {Button} from 'antd';\n\nconst SubmitButton = (props) => {\n    const {isPass, isLoading,...submitProps} = useSubmit(props);\n    return (\n        <Button loading={isLoading} {...submitProps} {...props}/>\n    );\n};\n\nexport default SubmitButton;\n","import React from 'react';\nimport {useReset} from '@kne/react-form';\nimport {Button} from 'antd';\n\nconst ResetButton = (props) => {\n    const resetProps = useReset();\n    return (\n        <Button {...resetProps} {...props}/>\n    );\n};\n\nexport default ResetButton;\n","import React from 'react';\nimport {Modal} from 'antd';\nimport SubmitButton from './SubmitButton';\nimport ResetButton from './ResetButton';\nimport Space from 'antd/es/space';\nimport Form from \"./Form\";\nimport {withFetch} from '@kne/react-fetch';\nimport classnames from 'classnames';\n\nconst FetchForm = withFetch(Form);\n\nconst CommonModal = ({formProps, footer, children}) => {\n    const TargetForm = formProps.hasOwnProperty('url') ? FetchForm : Form;\n    return <TargetForm {...formProps}>\n        <div className=\"ant-modal-body\">\n            {children}\n        </div>\n        <div className=\"ant-modal-footer\">\n            {footer ? footer : <Space>\n                <ResetButton>重置</ResetButton>\n                <SubmitButton type=\"primary\">确定</SubmitButton>\n            </Space>}\n        </div>\n    </TargetForm>;\n};\n\nconst FormModal = ({className, formProps = {}, footer, children, ...props}) => {\n    return <Modal {...props} className={classnames(className, 'react-form-modal')} footer={null}>\n        <CommonModal formProps={formProps} footer={footer}>{children}</CommonModal>\n    </Modal>\n};\n\nFormModal.modal = ({className, title, formProps = {}, footer, content, ...props}) => Modal.info({\n    ...props,\n    title: title ? <div className=\"ant-modal-header\">\n        <div className=\"ant-modal-title\">{title}</div>\n    </div> : null,\n    className: classnames(className, 'react-form-modal'),\n    content: <CommonModal formProps={formProps} footer={footer}>{content}</CommonModal>,\n    icon: null,\n    footer: null\n});\n\nexport default FormModal;\n","import Form from './Form';\n\nimport Avatar$ from './fields/Avatar';\nimport Cascader$ from './fields/Cascader';\nimport Checkbox$ from './fields/Checkbox';\nimport CheckboxGroup$ from './fields/CheckboxGroup';\nimport DatePicker$ from './fields/DatePicker';\nimport Input$ from './fields/Input';\nimport InputNumber$ from './fields/InputNumber';\nimport RadioGroup$ from './fields/RadioGroup';\nimport Select$ from './fields/Select';\nimport SelectFetch$ from './fields/SelectFetch';\nimport Switch$ from './fields/Switch';\nimport TextArea$ from './fields/TextArea';\nimport TimePicker$ from './fields/TimePicker';\nimport TreeSelect$ from './fields/TreeSelect';\nimport Upload$ from './fields/Upload';\n\nexport * from './Form';\nexport default Form;\nexport {default as preset} from './preset';\nexport {default as FormModal} from './FormModal';\nexport {default as ResetButton} from './ResetButton';\nexport {default as SubmitButton} from './SubmitButton';\n\nexport const Avatar = Avatar$;\nexport const Cascader = Cascader$;\nexport const Checkbox = Checkbox$;\nexport const CheckboxGroup = CheckboxGroup$;\nexport const DatePicker = DatePicker$;\nexport const Input = Input$;\nexport const InputNumber = InputNumber$;\nexport const RadioGroup = RadioGroup$;\nexport const Select = Select$;\nexport const SelectFetch = SelectFetch$;\nexport const Switch = Switch$;\nexport const TextArea = TextArea$;\nexport const TimePicker = TimePicker$;\nexport const TreeSelect = TreeSelect$;\nexport const Upload = Upload$;\n\nexport const fields = { Avatar, Cascader, Checkbox, CheckboxGroup, DatePicker, Input, InputNumber, RadioGroup, Select, SelectFetch, Switch, TextArea, TimePicker, TreeSelect, Upload };"]},"metadata":{},"sourceType":"module"}