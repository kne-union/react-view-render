{"version":3,"sources":["../../src/Logic/State/index.js","../../src/util.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../src/Logic/Context/index.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js"],"names":["applyVariable","className","props","useState","$setState","setStateName","classnames","variable","$item","state","functions","setState","escape","value","WrappedComponent","originProps","useGlobalContext","components","emitter","output","extract","Object","key","extractProps","newProps","currentVariable","propsValue","parsedPropsValue","name","path","test","dotIndexList","map","sign","index","dotIndex","Math","parseVariable","newFunction","Function","args","otherContext","content","lib","get","useEffect","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError","_arrayLikeToArray","len","length","i","arr2","_unsupportedIterableToArray","o","minLen","n","prototype","toString","call","slice","constructor","contextFunctions","currentFunctions","_slicedToArray","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err"],"mappings":"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","file":"static/js/12.98d6dc66.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport Context from '../Context';\nimport { applyVariable } from '../../util';\nimport classnames from 'classnames';\n\nconst State = ({ initValue, setStateName, children, className, ...props }) => {\n  const [state, setState] = useState(initValue);\n  const $setState = setStateName ? (setStateName.indexOf('$') === 0 ? setStateName : '$' + setStateName) : '$setState';\n  return <div {...props} className={classnames(className, 'view-render-state')}>\n    <Context variable={{ $item: state }}\n             functions={{ [$setState]: setState }}>{children}</Context>\n  </div>;\n};\n\nexport default applyVariable(State);","import React, {useEffect} from 'react';\nimport {useGlobalContext, Provider} from './context';\nimport Render from './index';\nimport get from 'lodash/get';\n\nconst escape = (value) => {\n    if (typeof value === 'string' && value.indexOf('\\\\$') === 0) {\n        return value.replace('\\\\$', '$');\n    }\n    return value;\n};\n\nconst parseVariable = (value) => {\n    if (typeof value !== 'string') {\n        return {\n            name: value,\n            path: ''\n        };\n    }\n    if (!/[.\\[]/.test(value)) {\n        return {\n            name: value,\n            path: ''\n        };\n    }\n    const dotIndexList = ['[', '.'].map((sign) => value.indexOf(sign)).filter((index) => index > -1);\n    if (dotIndexList.length === 0) {\n        return {\n            name: value,\n            path: ''\n        };\n    }\n    const dotIndex = Math.min(...dotIndexList);\n    return {\n        name: value.substr(0, dotIndex),\n        path: value.substr(dotIndex).replace(/^\\./, '')\n    };\n};\n\nexport const extractProps = (props = {}) => {\n    const output = {\n        props: {}, extract: {}\n    };\n    Object.keys(props).forEach((key) => {\n        if (key.charAt(0) === '$') {\n            output.extract[key] = props[key];\n        } else {\n            output.props[escape(key)] = props[key];\n        }\n    });\n\n    return output;\n};\n\nexport const applyVariable = (WrappedComponent) => {\n    return (originProps) => {\n        const {variable, functions, components, ...otherContext} = useGlobalContext();\n        const {emitter} = otherContext;\n        const {props, extract} = extractProps(originProps);\n        const newProps = {}, currentVariable = Object.assign({}, variable, extract);\n        Object.keys(props).forEach((key) => {\n            const propsValue = props[key], parsedPropsValue = parseVariable(props[key]);\n\n            if (currentVariable.hasOwnProperty(propsValue)) {\n                newProps[key] = currentVariable[propsValue];\n                return;\n            }\n\n            if (currentVariable.hasOwnProperty(parsedPropsValue.name)) {\n                newProps[key] = get(currentVariable[parsedPropsValue.name], parsedPropsValue.path);\n                return;\n            }\n\n            if (functions.hasOwnProperty(propsValue)) {\n                if (typeof functions[propsValue] === 'string') {\n                    newProps[key] = (...args) => {\n                        const newFunction = new Function('args', 'variable', 'functions', 'lib', functions[propsValue]);\n                        return newFunction(args, currentVariable, functions, otherContext.lib);\n                    };\n                    return;\n                }\n                if (typeof functions[propsValue] === 'function') {\n                    newProps[key] = functions[propsValue];\n                    return;\n                }\n                return;\n            }\n\n            if (components.hasOwnProperty(propsValue)) {\n                newProps[key] =\n                    <Render content={components[propsValue]} lib={otherContext.lib} emitter={otherContext.emitter}/>;\n                return;\n            }\n\n            newProps[key] = escape(propsValue);\n        });\n        useEffect(() => {\n            emitter && emitter.emit('component-appended', currentVariable.$id);\n            return () => {\n                emitter && emitter.emit('component-removed', currentVariable.$id);\n            };\n        }, [emitter]);\n        if (Object.keys(extract).length > 0) {\n            return <Provider\n                value={Object.assign({}, otherContext, {functions, components, variable: currentVariable})}>\n                <WrappedComponent {...newProps}/>\n            </Provider>;\n        }\n        return <WrappedComponent {...newProps}/>;\n    };\n};","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import React from 'react';\nimport { Provider, useGlobalContext } from '../../context';\nimport { applyVariable } from '../../util';\n\nconst Context = ({ children, functions, variable }) => {\n  const { variable: contextVariable, functions: contextFunctions, ...otherContext } = useGlobalContext();\n  const currentVariable = Object.assign({}, contextVariable, variable);\n  const currentFunctions = Object.assign({}, contextFunctions, functions);\n  return <Provider value={Object.assign({}, otherContext, { variable: currentVariable, functions: currentFunctions })}>\n    {children}\n  </Provider>;\n};\n\nexport default applyVariable(Context);","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}