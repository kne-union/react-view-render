{"version":3,"sources":["../../src/context.js","../../src/components.js","../../src/index.js","../../src/profile.js","App.js","index.js"],"names":["context","createContext","Provider","useGlobalContext","useContext","components","List","loadable","Text","Row","Col","Space","Condition","Form","Input","InputNumber","RadioGroup","Select","Switch","DatePicker","DateRangePicker","Cascader","TextArea","Avatar","Upload","CheckboxGroup","SubmitButton","ResetButton","Remote","Mapping","State","Button","Img","Div","GroupList","Card","Component","Empty","render","button","text","row","col","list","condition","input","form","avatar","cascader","checkboxGroup","datePicker","inputNumber","radioGroup","select","textArea","upload","submitButton","resetButton","img","remote","mapping","state","space","div","data","Array","item","children","CurrentComponent","newProps","Object","className","classnames","$id","key","id","ErrorMsg","error","useEffect","console","Render","lib","emitter","prevContext","variable","get","content","functions","errorComponent","value","isEditor","App","example","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.02feb0c3.chunk.js","sourcesContent":["import { createContext, useContext } from 'react';\n\nexport const context = createContext({});\n\nexport const { Provider } = context;\n\nexport const useGlobalContext = () => {\n  return useContext(context);\n};\n\nexport default context;","import loadable from '@loadable/component';\n\nconst components = {\n    List: loadable(() => import('./Logic/List')),\n    Text: loadable(() => import('./General/Text')),\n    Row: loadable(() => import('./Layout/Row')),\n    Col: loadable(() => import('./Layout/Col')),\n    Space: loadable(() => import('./Layout/Space')),\n    Condition: loadable(() => import('./Logic/Condition')),\n    Form: loadable(() => import('./Form/index')),\n    Input: loadable(() => import('./Form/Input')),\n    InputNumber: loadable(() => import('./Form/InputNumber')),\n    RadioGroup: loadable(() => import('./Form/RadioGroup')),\n    Select: loadable(() => import('./Form/Select')),\n    Switch: loadable(() => import('./Form/Switch')),\n    DatePicker: loadable(() => import('./Form/DatePicker')),\n    DateRangePicker: loadable(() => import('./Form/DateRangePicker')),\n    Cascader: loadable(() => import('./Form/Cascader')),\n    TextArea: loadable(() => import('./Form/TextArea')),\n    Avatar: loadable(() => import('./Form/Avatar')),\n    Upload: loadable(() => import('./Form/Upload')),\n    CheckboxGroup: loadable(() => import('./Form/CheckboxGroup')),\n    SubmitButton: loadable(() => import('./Form/SubmitButton')),\n    ResetButton: loadable(() => import('./Form/ResetButton')),\n    Remote: loadable(() => import('./Logic/Remote')),\n    Mapping: loadable(() => import('./Logic/Mapping')),\n    State: loadable(() => import('./Logic/State')),\n    Button: loadable(() => import('./General/Button')),\n    Img: loadable(() => import('./General/Img')),\n    Div: loadable(() => import('./Layout/Div')),\n    GroupList: loadable(() => import('./Form/GroupList')),\n    Card: loadable(() => import('./General/Card')),\n    Component: loadable(() => import('./General/Component')),\n    Empty: loadable(() => import('./General/Empty'))\n};\n\nexport default components;","import React, {useEffect} from 'react';\nimport {Provider, useGlobalContext} from './context';\nimport components from './components';\nimport ErrorBoundary from '@kne/react-error-boundary';\nimport classnames from 'classnames';\nimport get from 'lodash/get';\n\nconst render = (data) => {\n    const target = Array.isArray(data) ? data : [data];\n\n    return target.map((item) => {\n        if (typeof item === 'string') {\n            return item;\n        }\n        const {id, component, props, children} = item;\n        const CurrentComponent = components[component];\n        if (!CurrentComponent) {\n            return null;\n        }\n\n        const newProps = Object.assign({}, props);\n\n        if (children) {\n            newProps.children = render(children);\n        }\n\n        return <CurrentComponent {...newProps} className={classnames(newProps.className, `id_${id}`)} $id={id}\n                                 key={id}/>;\n    });\n};\n\nconst ErrorMsg = ({error}) => {\n    useEffect(() => {\n        console.error(error);\n    }, [error]);\n    return <div>渲染发生错误，请检查配置或回滚操作</div>;\n};\n\nconst Render = ({lib = {}, content, emitter}) => {\n    const prevContext = useGlobalContext();\n    const variable = Object.assign({}, get(prevContext, 'variable'), content.variable);\n    const data = content.data || [];\n    const functions = Object.assign({}, get(prevContext, 'functions'), content.functions);\n    const components = Object.assign({}, content.components);\n    return (\n        <ErrorBoundary errorComponent={ErrorMsg}>\n            <Provider value={{\n                lib,\n                functions,\n                components,\n                data,\n                variable,\n                emitter,\n                isEditor: !!emitter\n            }}>\n                {render(data)}\n            </Provider>\n        </ErrorBoundary>\n    );\n};\n\nexport default Render;\n\nexport {default as profile, profileMap} from './profile';\n\n","import button from './General/Button/profile.json';\nimport text from './General/Text/profile.json';\nimport row from './Layout/Row/profile.json';\nimport img from './General/Img/profile.json';\nimport col from './Layout/Col/profile.json';\nimport list from './Logic/List/profile.json';\nimport condition from './Logic/Condition/profile.json';\nimport form from './Form/profile.json';\nimport input from './Form/Input/profile.json';\nimport submitButton from './Form/SubmitButton/profile.json';\nimport avatar from './Form/Avatar/profile.json';\nimport cascader from './Form/Cascader/profile.json';\nimport datePicker from './Form/DatePicker/profile.json';\nimport checkboxGroup from './Form/CheckboxGroup/profile.json';\nimport inputNumber from './Form/InputNumber/profile.json';\nimport radioGroup from './Form/RadioGroup/profile.json';\nimport resetButton from './Form/ResetButton/profile.json';\nimport select from './Form/Select/profile.json';\nimport textArea from './Form/TextArea/profile.json';\nimport upload from './Form/Upload/profile.json';\nimport remote from './Logic/Remote/profile.json';\nimport mapping from './Logic/Mapping/profile.json';\nimport state from './Logic/State/profile.json';\nimport space from './Layout/Space/profile.json';\nimport div from './Layout/Div/profile.json';\n\nconst profile = {\n  'general': {\n    id: 'general',\n    label: '通用',\n    components: [button, text, img]\n  },\n  'layout': {\n    id: 'layout',\n    label: '布局',\n    components: [row, col, space, div]\n  },\n  'form': {\n    id: 'form',\n    label: '表单',\n    components: [form, input, submitButton, resetButton, avatar, cascader, checkboxGroup, datePicker, inputNumber, radioGroup, select, textArea, upload]\n  },\n  'logic': {\n    id: 'logic',\n    label: '逻辑',\n    components: [list, condition, remote, mapping, state]\n  }\n};\n\nexport default profile;\n\nexport const profileMap = {\n  [button.id]: button,\n  [text.id]: text,\n  [row.id]: row,\n  [col.id]: col,\n  [list.id]: list,\n  [condition.id]: condition,\n  [input.id]: input,\n  [form.id]: form,\n  [avatar.id]: avatar,\n  [cascader.id]: cascader,\n  [checkboxGroup.id]: checkboxGroup,\n  [datePicker.id]: datePicker,\n  [inputNumber.id]: inputNumber,\n  [radioGroup.id]: radioGroup,\n  [select.id]: select,\n  [textArea.id]: textArea,\n  [upload.id]: upload,\n  [submitButton.id]: submitButton,\n  [resetButton.id]: resetButton,\n  [img.id]: img,\n  [remote.id]: remote,\n  [mapping.id]: mapping,\n  [state.id]: state,\n  [space.id]: space,\n  [div.id]: div\n};","import ViewRender from '@kne/react-view-render';\nimport example from './example.json';\n\nconst App = ()=>{\n    return <ViewRender content={example}/>;\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(<App/>, document.getElementById('root'));"],"sourceRoot":""}